<h2>Basic List</h2>

<div class="error-wrapper" *ngIf="(error$ | async)">
    <bold>Error: </bold>{{(error$ | async)?.message}}
</div>

<div *ngIf="!(error$ | async)">

    <div class="loading-wrapper">
        <span *ngIf="(loading$ | async)">{{(loading$ | async)}}</span>
    </div>

    <ul>
        <li *ngFor="let item of items" >
            <listr-item 
                [item]="item"
                (saveItem)="saveItem($event)"
                (deleteItem)="deleteItem($event)"
                >
            </listr-item>
        </li>
    </ul>

</div>

<listr-item *ngIf="itemToAdd"
    [item]="itemToAdd"
    (addItem)="saveNewItem($event)"
    (deleteItem)="cancelAdd()"
    (resetAdd)="cancelAdd()"
    >
</listr-item>

<button (click)="reset()" mat-icon-button title="Undo changes">
    <i class="material-icons">undo</i>
</button>
<button (click)="showNewItem()" mat-icon-button title="Add an item">
    <i class="material-icons">add</i>
</button>

<!-- <pre>{{items | json}}</pre> -->
